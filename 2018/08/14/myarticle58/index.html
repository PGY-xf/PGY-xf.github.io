<!DOCTYPE html>

<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
  <title>区块链光谱 [ Pandsflies ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/iLiKE.css">
    
  
  
  
  <script src="//cdn1.lncld.net/static/js/3.1.1/av-min.js"></script>
    <script id="leancloud">
      AV.init({
          appId: "6E5zTbTljdUbVW2WkXPsXGJk-gzGzoHsz",
          appKey: "0vsyDKfNpeSECAI70J794ugv"
      });
    </script>

</head></html>
<body>
    <div class="header">
        <div class="container">
    <div class="menu">
      <div class="menu-left">
        <a href="/">
          <img src="/favicon.ico"></img>
        </a>
      </div>
      <div class="menu-right">
        
          
          
          
          
          
          
          <a href="/">Home</a>
        
          
          
          
          
          
          
          <a href="/archives">Archives</a>
        
          
          
          
          
          
          <a href="/about">Resume</a>
        
          
          
          
          
          
          <a href="/E-BOOK">E-book</a>
        
      </div>
    </div>
</div>
    </div>
    <div class="container">
        <h1 class="post-title">区块链光谱</h1>
<article class="post markdown-style">
  <h3 id="虫洞社区签约作者介绍"><a href="#虫洞社区签约作者介绍" class="headerlink" title="虫洞社区签约作者介绍"></a>虫洞社区签约作者介绍</h3><p>叶露（王二） 销售人员 克莱登技术有限公司</p>
<p>本文根据Taylor Pearson所著区块链光谱图，从密码学、分布式系统、政治学和经济学的角度对区块链做出的全方面分析：</p>
<p><img src="https://cdn.ktvsky.com/1ef816dea67aa0682cd4beb7a7482b67.jpg" alt="img"></p>
<p>想象你是一位大学院长，学院正要新增一门关于区块链的课程，那么这门区块链的课程该属于哪个学科呢。计算机科学或商科？数学或经济学？社会学？政治学？金融学？哲学？</p>
<p>事实上，区块链课程属于任何学科都是合适的。今天的区块链仍然是前沿、神秘的技术，但总将有一天它们会像汽车、计算机和互联网一样无处不在。就像这些任何我们更为熟悉的技术一样，许多学术部门将为它们提供相关课程，每个学术部门都有自己独特的观点。</p>
<p>在该区块链的光谱上将若干相似的概念和技术呈现在了一张韦恩图上。把它想象为区块链概念的“光谱”，将纯白色的光打破还原成本色。</p>
<p>区块链既是一种新型的社会经济模式，也是一种新型技术，位于图表左侧的“技术”学科（分布式系统和密码学）以及位于图片右侧的“非技术”学科（政治学与经济学）的分歧强调了这一点。</p>
<p><img src="https://cdn.ktvsky.com/1ef816dea67aa0682cd4beb7a7482b67.jpg" alt="img"></p>
<p>我们将通过讨论某种程度上仍不是区块链但类似于区块链的系统，来增加对比度来使区块链的主题更加清晰。<br>本文将从四个基本的学科来探讨区块链，它们分别是密码学、分布式系统、经济学和政治学。</p>
<h1 id="密码学"><a href="#密码学" class="headerlink" title="密码学"></a><strong>密码学</strong></h1><p>区块链使用密码学创建了不对称性，正如V神所说的防守者的优势：</p>
<p><em>21世纪的密码学是很特殊的存在，因为它是极少数领域中在对抗性冲突上继续大力加持防守者的领域之一。城堡的破坏远比建造容易，固若金汤的小岛，仍可被攻破。但是，一个普通人的ECC密匙足够安全的话，甚至可以抵御国家级的攻击。-维克多·布特林</em></p>
<p>我可以通过私匙轻易地控制自己的代币，甚至是厉害如国家级别的黑客也无法打破我的控制。去享受防守者的优势，你必须有一个对密码学的基本理解（去了解它做了什么，而不是它是如何做到的）。</p>
<p>木制或金属的锁箱，它们通常可以通过暴力行为打开。但是，一旦你忘记或者丢失你的私钥就会失去防守者的优势。这导致两种权衡因素共同造成了防守者的困境：<br><img src="https://cdn.ktvsky.com/25ba97dc9b6e7c1d16acc569bc0953d0.png" alt="img"><br>[左]对于用户来说，不便性越高，密匙的安全性越高，但收益是递减的。由于受挫的用户会破坏协议，太多的不便反而会导致安全性的降低。<br>[右]经常使用你的密匙是确保其可以正常运作的好办法，但是不利于保密性，反之亦然。</p>
<ol>
<li>（安全性VS.便捷性）攻击者越难找到私匙，意味着对用户的越是不便。</li>
<li>（安全性VS.可访问性）你使用私匙的频率越少，意味着你越有信心保证私匙没有被暴露，但是也降低了私匙的可访问性。</li>
</ol>
<p>如果您真正了解强加密技术的强大功能，您就会明白为什么它既这么有用，同时为什么普通用户难以有效地运用。<br>这就是为什么密码学在很长一段时间内只能由强国，首先是政府，然后是大型公司来研发。只有在互联网兴起的时代，普通人才能从诸如HTTPS等加密协议中获取真正的个人利益。<br>普通人与分布式系统技术的第一次接触通常是互联网，这并不是巧合。分布式系统和密码学自然选择的原因有两个：</p>
<p><strong>·密码学提供纠错功能，其纠错功能可以帮助通过分布式系统传递的信息保持一致性。·分布式系统的每个小型成员都可以使用加密优势来抵御来自同一系统中更大的不良参与者的聚合。</strong></p>
<h1 id="分布式系统"><a href="#分布式系统" class="headerlink" title="分布式系统"></a><strong>分布式系统</strong></h1><p><img src="https://cdn.ktvsky.com/c048c5d809fcfa81a834348fb3431223.png" alt="img"></p>
<p><em>不同网络拓扑的经典插图-可追溯至1964年兰德公司的备忘录</em></p>
<p>和中心化相比，分布式系统有一些明显的优势。它们通常具有大量的内置冗余，使得它们比中心化系统更强大。他们汇集了所有个人成员的容量和吞吐量，因此，它们可以更大规模地运行，并且可以同时执行更多操作。<br>但是和中心化相比，分布式有时不得不处理内部节点间的通讯和协调开销，这些问题会使运营变得缓慢和笨拙。旨在对抗环境中运行的无信任分布式系统（如比特币）会产生额外的开销。<br>分布式系统理论中有一个著名的CAP定理，其实质是我们为分布式系统的更稳健和更大规模付出的代价是它们难以与最近的变化保持100％一致。他们需要时间通过网络来传播和存储变化。这些抽象的定理是加密货币分叉的最终原因，比如“使用任何来自于比特币交易的资金前需要等待六次确认。”</p>
<p>下面的屏幕截图来自在线分布式系统模拟器，并显示了同步数据中间的网络：</p>
<p><img src="https://cdn.ktvsky.com/34e50afcc7706a51a8532276746f8fd4.png" alt="img"></p>
<p>截图来自可视化分布式系统的在线工具。该工具由比特流研发，并显示了文件（棱柱形矩形）的分片（虚线，彩色线条）在网络中从种子到用户的汇集。在区块链内存池的交易中也有类似的程序发生。比如比特币或者以太坊。</p>
<p>许多类型的分布式系统都采用只可追加日志的常用策略。不断增长的数据结构，只能增加，不能删除。这些仅可追加日志为分布式系统中的每个代理提供全局历史记录和系统状态的完整副本。在节点“丢失”或者与其他节点不同步时，可以帮助其自我验证和修复。</p>
<p>区块链的区块组成默克尔树，该区块包括所有交易的加密摘要，编组成一个名为默克尔根的摘要统计。如果改变了区块（或它们的指令）上的任何交易的任何细节，默克尔根都会随之变化。每组新的候选交易将自己的默克尔根和之前的区块结合，这种孪生的区块通过矿工生成新的区块而形成，已达到区块中扩展链的目的。从分布式系统的角度来看，区块链中的区块是仅可追加日志中的加密连接条目。网络中的所有参与者都可以独立地验证他们收到的块是否以加密方式链接回原始创世块。</p>
<p>经常重复的说到区块链是“分布式分类账”或者“分布式数据库”，但是，如果我们要对其他分布式数据库进行对比，区块链就会显得有些寒碜。和现代化的分布式数据库相比，区块链显得缓慢、笨重、冗余和过度偏执。驱动Google和Facebook的分布式数据库每秒处理上百万条请求，并且随着时间的推移积累了大量的数据。比特币的区块链仍然只是具有每秒处理几条交易的能力。（Visa的处理能力则介于比特币和Facebook之间。）你永远不会想用区块链来驱动你的云计算堆栈，或社交媒体应用，或全球金融系统。</p>
<p>区块链适用于在对抗环境中需要整个分布式系统的应用中运行。区块链通过将密码学和分布式系统与经济上有价值的代币相结合来实现这一目标(比如：BTC，ETH等)。这种组合使区块链成为历史上第一个分布式共识技术。</p>
<h1 id="经济学"><a href="#经济学" class="headerlink" title="经济学"></a><strong>经济学</strong></h1><p>许多银行家告诉我，他们理解为什么区块链会改变金融业的后台IT - 因为区块链有更高的透明度和可以轻易实现数据的跟踪。但他们只是不明白“为什么人们要赋予价值给区块链代币”。 这已是陈词滥调：“区块链是有价值的，但比特币没有”</p>
<p>如果你已经在金融业或者经济学中建立自己的职业生涯，那么很容易相信一点，即使没有加密货币的概念和具有真实经济价值的代币也是可以实现区块链的所有好处（无论它们是什么）。但这是一个错误归类。区块链不仅仅是一种新型的数据库或技术。不具有经济价值代币的区块链会转变成为中心化系统或数据库。</p>
<p>这是因为区块链使用的共识机制（PoW和PoS，生成任何区块的算法）最终根植于矿工/权益持有人的自身经济利益。在经济上没有价值代币的区块链缺乏共识激励，区块会立即停止运作或者被垃圾邮件占领。</p>
<p>许多区块链都具有并行运行测试网络的概念。测试网络被设计为开发人员测试他们编写的应用程序而存在，因此，测试网和主网的运行都以同样的方式工作：包括挖矿/获取权益，交易，结余，私匙等。测试网和主网之间的区别在于我们都有共同的信念，主网的代币是有价值的，而测试网的代币一文不值。开发人员在构建应用程序时，不用担心测试网代币的开销（和潜在的丢失）。这样可以开发更好的软件，这对每个人来说都是福音。</p>
<p><em>测试网的代币一文不值，却很有用。因为它们不值钱，所有它们大有用处。如果你想赋予它们价值，它们将一无用处，因此不值一文。— 来自比特币测试网faucet的著名格言</em></p>
<p>不幸的是，缺少有价值的代币会导致维持区块链激励结构的崩溃。一个过去的例子便是早期以太坊测试网vs.Kovan。目前的以太坊测试网由Parity使用运营，一个著名（虽已陷入困境）的以太网执行节点。根据他们的设计，早期测试网的代币毫无价值，因此研发人员可以在测试期间任意的使用。有人想积累大量的以太网测试代币来堵塞网络，以阻止他人交易。在以太坊主网中执行同样的攻击则会更加困难，因为攻击者必须支付他们用于攻击的以太币。在测试网中，代币的市场价格为零，所以他们可以快速获取大量的代币并且肆无忌惮的花费。</p>
<p>现代的Kovan的测试网使用不同的公式算法，称之为“权威证明”（Proof -of-Authority）.这中心化“共识”只允许授权列表成员才能决定如何添加区块到测试网的链上。授权列表的对象仅针对对以太坊友好的公司，因此，他们没有动机去堵塞测试网。</p>
<p>它告诉我们，在没有价值代币的情况下，持续运营区块链的最佳解决方案是加强中心化。区块链就会变成“仅仅是数据库”（正如我们从上面的分布式系统讨论中所理解的那样）。一个中心化的权威机构再次承担起维护网络并建立共识的责任。</p>
<p>区块链利用有价值代币替代中心化机构。比特币可以被看成是一个公司，雇佣工人（矿工）竞争来达成共识。矿工通过出块奖励和工作量证明验证来获取收益。</p>
<p>区块链可以使用让参与者没法违反或作弊的协议来激励全球的参与者（“雇佣工人”）。这是一个对人类治理具有深远意义的强大功能。</p>
<h1 id="政治学"><a href="#政治学" class="headerlink" title="政治学"></a><strong>政治学</strong></h1><p>如果你还不相信比特币是一个基础的政治项目，请阅读中本聪嵌入的第一个比特币块区块的内容：</p>
<p><em>2009年1月3日，财政大臣正处于实施第二轮银行紧急援助的边缘— 比特币创世块</em></p>
<p>考虑它们出现的背景（全新的分布式货币系统的首次铸造），被称之为革命。想知道原因，回顾一下电影《V字仇杀队》吧。该电影于2006年上映，这意味和中本聪发明比特币是属同一时代。中本聪也许甚至观看过本片。</p>
<p><em>不要忘记，请记住…1月3号？</em></p>
<p>在V字仇杀队的影片中，其主角V炸毁了老贝利大楼（一座法院），紧接着，通过宽带网信号入侵，向二战后的伦敦人民发表激动人心的讲话：你们身处糟糕的体系，让我们在一年的时间里相遇，烧掉这个混蛋。在第二年，V说服了迷人且正常的娜塔莉波特曼剃光头，采纳他的世界观，并加入他的创造性破坏。在影片的高潮中，V牺牲了自己来拯救他的理想，娜塔莉波特曼必须决定她是否相信V的愿景足以完成他的计划。</p>
<p>阅读中本聪的比特币白皮书对很多人来说就像是听V的演讲一样：你们处在糟糕的体系中，让我们一起聚集在蹩脚的论坛上建立一个全新的金融体系。所以让我们埋葬这该死的家伙。在接下来的十年里，许多迷人的正常程序员，自由主义者，技术专家和- 在这些令人兴奋的日子里， 甚至经济学家，银行家和投资者也已经接受了中本聪的世界观并购买了比特币和参与到区块链中来。中本聪拥有价值80亿美金的比特币，在没有任何花费的情况下，他人间蒸发了。就像V一样，牺牲了他自己拯救了他的理想。离开是中本聪做过最伟大的事情，甚至超过了对比特币的构思。现在，我们其余的人必须决定我们如何对待中本聪的礼物：世界上第一个分布式共识算法。</p>
<p>但扩展区块链的共识算法本身并不具有政治性。 它是一套规则，由代码组成，由热力学塑造而成，需要平衡不同经济的自身利益。</p>
<p>然而，确定共识规则的过程具有强烈的政治性。区块链通常表现为冷态的，可计算性。但是在他们的原始协议的背后是委员会、基金会、和政治部落主义：所有地缘政治的食人魔。</p>
<p><em>当它在黑暗中时，力量仍旧强大；一旦暴露于阳光下，它将飞灰湮灭。—塞缪尔·亨廷顿</em></p>
<p>区块链政治性与传统治理之间的主要区别在于区块链提供了更大的透明度。链上交易虽是伪匿名性的，但是在微观和宏观的层次上都会产生现金流的信息，其中产生的关于腐败、盗窃、使用模式、参与和操作的数据皆可以用来实时和事后的分析。（例如，该报告讨论了对比特币的历史垃圾邮件攻击。）</p>
<p>区块链中的参与者也实际上被连接在一起，形成了一个全球性的实时网络。任何参与者都可以在该网络内以瞬时形式使用元数据，对关于链式治理等元问题进行民意调查。当你听到一些硬分叉的“越来越多的支持”或“更大的信号”的声音时，把它想象成一个加密的盖洛普民意调查，一个来自矿工和网络用户民意的实时调查。不像传统的政治民意调查那样，会因为抽样误差导致不可靠的结论，加密民意调查有可能是总计，直接计算平均人数而不是从样本平均数中推断出来。</p>
<p>使用网络来衡量一些政治决策的共识是非常重要的，因为像比特币这样的区块链并没有官方代表。需要当机立断时，这是一个缺点，但在建立强大的政治体系时，这是一种令人难以置信的力量。这里没有罗伯特穆加贝的鼓励放弃权力。这里没有联合国安理会在利益攸关方中拥有令人垂涎的席位。没有朱利安阿桑奇（其所谓的）个人不端行为可以使公众对政治目标的看法变得模糊。</p>
<p>没有中心化的治理（“没有统治者的规则”）对于比特币和以太坊来说是一个重要的美学，但是同样没有任何内置协议功能来确保这里一点。每个都依赖于外部网络，如电子邮件，在线论坛，GitHub，Twitter等。一些较新的项目明确承认区块链的政治性质，并在其协议中构建治理原语。（通常是对你的区块链代币份额的提案进行投票的一些变体）。</p>
<p>更具挑衅性的是，我们可以将区块链技术应用于政治过程本身。社会最近才对这一不公平性做出决定，区块链代币可以作为存储价值，用作支付，或量化计算，存储，带宽，能源或其他有限资源的某些衡量标准。如果我们决定使用区块链来奉行政治特许经营权，会发生什么呢？当足够数量的个体认为政治资本最好是存储在区块链中时，他们就可以实现纯粹的抽签。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h1><p>密码学、分布式系统、经济学和政治学都为区块链的概念提供了信息。 他们的交叉路口特别有趣。</p>
<p>左方阵营vs.右方阵营</p>
<p>在对图表的初步讨论中，泰勒强调了“技术”学科（密码学和分布式系统）与“社会”学科（经济学和政治学）之间的左右分裂。</p>
<p>那些拥有“技术”背景的人有时会沉溺于区块链中的新技术而完全忽略社会因素。这导致那些解决实际不存在的问题而存世的过于乐观的项目，仅仅是因为他们认为应该用区块链来做。</p>
<p>那些有“社会”背景的人有时不能理解（或不愿了解）区块链的技术。从根本上说，区块链是一种全新的方式去解决重要问题。但是如果你无法理解问题的轮廓，那么无论多么新颖和充满前景的承诺，任何解决方案对你来说都是没有价值的。如果你已经开始大肆炒作，但缺乏可靠的技术，你可能会将时间，精力和金钱投入到基础并上不健全的项目中。</p>
<p>区块链既是技术也是社会运动。这意味着“技术”和“社会”思维对区块链的健康同样至关重要，但是很少有人能够兼顾这两点。密码朋克宣言使该观点更加明确清晰，“密码朋克编写代码”，但是他们拥有同社会煽动者一样的天赋。我们其他人跨越技术和社会鸿沟的唯一希望是通过杂食阅读和长期合作来解决。<br>四项属性缺一不可？</p>
<p>关于比特币和区块链在网上流传的批评很多，其核心是无法识别区块链的分布式、加密性、经济或政治的一个方面或另一个方面。缺少这些关键因素中的一个会导致产生不同的技术或想法，亦或产生对比特币和区块链不公正的批判。</p>
<p>如果你误解或忽略了区块链对<strong>密码学</strong>的依靠：</p>
<p>· 你通过建立了中心化监督管理（“看不见的手”）的分布式参与者来结束传统的经济系统。密码学允许你编写所有参与者可以验证和共享的规则，允许分布式自我监管。<br>· 您可能无法理解区块链中的代币基本上是数字化的东西，控制权已明确定义（知道私钥）但所有权毫无意义（如果我知道您的私钥，我可以拿走您的代币）。你可能会低估防守者优势的力量，把自己反困在代币里，无迹可寻。</p>
<p>如果你误解或忽略了区块链的<strong>分布式系统</strong>：</p>
<p>·你会使用加密技术的中心化系统来确保其政治和经济利益。这正是国家政府和全球银行系统已存在数十年的情况。将这些相同的工具分发给群众，可以让人们在没有中心化中介的情况下为自己建立政治和经济服务。你可能会将“猎取财富”比如航空里程、电子游戏币与区块链相混淆。这些财富的获取形式类似于区块链，因为它们具有人为的稀缺性，可以在一群疯狂的爱好者或顽固的顾客之间兑换现实世界的美元，但是这些系统都是中心化的。航空公司可以以反复无常的理由掠走你的里程数或者阻止你的花销。暴雪公司控制着数据库，数据库里存储着你魔兽中的珍藏。那些批判比特币就像“航空里程数”的早期反对者，他们完全错过了至关重要的一点，比特币是一个全新的分布式系统。你可能会同集中式骗局相混淆，例如区块链的旁氏骗局。<br>·即使是加密数字式的旁氏骗局也必然呈中心化展现。分布式旁氏骗局挺有趣的，却具有内在的不稳定性。</p>
<p>如果你误解或忽视了区块链是由理性<strong>经济学</strong>驱动的：</p>
<p>·你会建立一个加密的分布式共识系统，但这个系统可以被轻易入侵或者分解。经济激励创造了基本行为（通过代币获取利益，矿工增加共识，保护私钥等），从而推动区块链健康的良性发展。不对称性或缺乏经济激励（例如早期的以太坊测试网络）会打破良性循环。<br>· 你可能会陷入相信区块链仅仅是技术的陷阱，类似于BitTorrent或带有PGP密钥的Git。一旦陷入这个陷阱，你将永远无法接受比特币或其他数字代币是有价值的，尽管他们的网络和用户群（和价格）还在继续增长。</p>
<p>如果你误解或忽视了区块链的<strong>政治性</strong>：</p>
<p>· 你可能不明白为什么有人会对当前以债务为基础的，高度集中的货币体系不满，或者想要一个分布式的，坚挺的，能经得住审查的价值存储，比如比特币。<br>·你可能没有意识到个人、团队和媒体驱动了BTC和ETH以及其他加密货币背后的共同价值幻觉。这共同的价值幻觉并不总是稳定的。它可以变得紊乱并且可以像ETH / ETC分叉或BTC / BCH分叉那样具有破碎性，这两者都是由强烈的个性和针尖对麦芒的尖锐驱使的。<br>·你可能会限制自己相信区块链仅在金融或数字领域有用。区块链是共识技术，它们可以并且将在某一天用于各种应用，从分配共享资源到在所有权系统中进行判决，再到政治代表，以及预测未来。</p>
<p><strong>你理解区块链了吗？</strong></p>
<p><strong>区块链是一种使用加密技术的分布式系统，以确保经济上有价值的代币达成共识。</strong></p>
<p>当你听到有人说他们“不玩比特币”时，通常是因为他们未能掌握图表中的一个学科。 结果，他们最终将比特币与非区块链系统进行比较，例如上面讨论的那些。</p>
<p>也许这些怀疑者并不了解，以区块链为背景的分布式系统技术想要创造价值还需要走很长的一段路。也许他们没有掌握密码学在对抗世界中给予防守者的优势（和困境）。</p>
<p>怀疑者可能没有意识到有许多人真正地重视加密货币，能为他们提供经济增长的基础。或者，他们可能错误地怀疑这些人是投机者，忽视了激励许多加密货币信徒的政治现实。</p>
<p>对于怀疑者和持怀疑论者，我们希望本文不仅可以提供推理，还可以提供比特币和区块链语境化所需的推理模式，并对其进行正确评估。如果你知道的人怀疑比特币具有“真正的价值”或“这只是一个泡沫”，请他们解释下PoS如何为何能够保证比特币的交易。这篇文章给出了全方面完整的解释。</p>
<p>原作者：Dhruv Bansal<br>原文链接：<a href="https://blog.unchained-capital.com/blockchain-spectrum-806847e1c575" target="_blank" rel="noopener">https://blog.unchained-capital.com/blockchain-spectrum-806847e1c575</a></p>

</article>

    <div class="pagenator post-pagenator">
    
    
        <a class="extend prev post-prev" href="/2018/08/28/myarticle59/">prev</a>
    

    
    <p>last update time 2019-09-05</p>
    
    
        <a class="extend next post-next" href="/2018/08/09/myarticle57/">next</a>
    
    </div>

    </div>
    <div class="footer">
        <div class="container">
    <div class="social">
	<ul class="social-list">
		
			
				
				
				<li>
					<a href="mailto:1178752402@qq.com" title="email" target="_blank">
					<i class="fa fa-email"></i>
					</a>
				</li>
			
		
			
		
			
		
			
		
			
		
			
		
			
				
				<li>
					<a href="https://github.com/CaiChenghan" title="github" target="_self">
					<i class="fa fa-github"></i>
					</a>
				</li>
			
		
			
		
			
		
			
		
			
				
				<li>
					<a href="https://www.jianshu.com/u/565c8e790605" title="jianshu" target="_self">
					<i class="fa fa-jianshu"></i>
					</a>
				</li>
			
		
			
		
			
		
			
		
	</ul>
</div>
    <div class="copyright">
        <span>
            
            
            
                © 小飞 2017 - 2019
            
        </span>
    </div>
    <div class="power">
        <span>
            Powered by <a href="https://hexo.io">Hexo</a> & <a href="https://github.com/CaiChenghan/iLiKE">iLiKE Theme</a>
        </span>
    </div>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <!--page counter part-->
<script>
function addCount (Counter) {
    url=$('.article-date').attr('href').trim();
    title = $('.article-title').text().trim();
    var query = new AV.Query(Counter);
    //use url as unique idnetfication
    query.equalTo("url",url);
    query.find({
        success: function(results) {
            if (results.length>0) {
                var counter=results[0];
                counter.fetchWhenSave(true); //get recent result
                counter.increment("time");
                counter.save();
            } else {
                var newcounter=new Counter();
                newcounter.set("title",title);
                newcounter.set("url",url);
                newcounter.set("time",1);
                newcounter.save(null,{
                    success: function(newcounter) {
                        //alert('New object created');
                    }, error: function(newcounter,error) {
                        alert('Failed to create');
                    }
                })
            }
        },
        error: function(error) {
            //find null is not a error
            alert('Error:'+error.code+" "+error.message);
        }
    });
}
$(function() {
    var Counter=AV.Object.extend("Counter");
    //only increse visit counting when intering a page
    if ($('.article-title').length == 1) {
       addCount(Counter);
    }
    var query=new AV.Query(Counter);
    query.descending("time");
    // the sum of popular posts
    query.limit(10); 
    query.find({
        success: function(results) {
                for(var i=0;i<results.length;i++) {
                    var counter=results[i];
                    title=counter.get("title");
                    url=counter.get("url");
                    time=counter.get("time");
                    // add to the popularlist widget
                    showcontent=title+" ("+time+")";
                    //notice the "" in href
                    $('.popularlist').append('<li><a href="'+url+'">'+showcontent+'</a></li>');
                }
            },
        error: function(error) {
            alert("Error:"+error.code+" "+error.message);
        }
    });
});
</script>
</div>
    </div>
</body>
</html>
